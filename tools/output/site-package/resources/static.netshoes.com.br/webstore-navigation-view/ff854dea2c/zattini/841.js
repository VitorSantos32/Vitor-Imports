"use strict";(self.webpackChunkff_webstore_navigation_view=self.webpackChunkff_webstore_navigation_view||[]).push([[841],{1841:function(t,e,i){i.r(e),i.d(e,{default:function(){return at}});var s=i(5353),r=i(4486),n=(0,r.A)({},function(){var t=this._self._c;return t("div",{staticClass:"loading"},[t("img",{attrs:{src:i(8100),alt:this.$t("quiz.loading.alt.description")}})])},[],!1,null,"876f9cea",null).exports,a=i(3821),o={props:{label:{type:String,required:!1},type:{type:String,required:!0,validator:t=>["home","back","next","explore","buy","close"].includes(t)},disabled:{type:Boolean,default:!1}},computed:{buttonClass(){return`action-button action-button--${this.type}`}}},l=(0,r.A)(o,function(){var t=this;return(0,t._self._c)("button",{class:[t.buttonClass,{"is-disabled":t.disabled}],attrs:{disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._v("\n  "+t._s(t.label)+"\n  \n  "),t._t("icon")],2)},[],!1,null,"776f14ec",null).exports,u=i(1460),c={methods:{setBodyOverflowY(t){document.body.style.overflowY=t?"auto":"hidden"}}};const d="GUIDED_NAVIGATION_QUIZ_ID",p="GUIDED_NAVIGATION_QUIZ_ID",m="GUIDED_NAVIGATION_QUIZ_ID",g={computed:{...(0,s.mapState)("Config",["isWebview"])},methods:{generateGuidedNavigationId(){const t=Math.floor(1e5*Math.random()).toString();return localStorage.setItem("GUIDED_NAVIGATION_QUIZ_ID",t),t},guidedNavigationSelectResult(t){this.isWebview?(({code:t,name:e,brand:i,price:s,index:r})=>{try{if(!window||!window.FreedomAppSDK)return;const n=new window.FreedomAppSDK,a={item_list_name:"QUIZ",eventAction:"click",eventCategory:"home:quiz",pageType:"quiz",device:"app",currency:"BRL",items:[{item_id:t||"",item_name:e||"",item_brand:i||"",item_price:s||"",item_list_name:"QUIZ",item_list_id:"R5J34A",dimension115:"QUIZ",index:r}]};n.callService({serviceName:"analytics.firebase",parameters:{eventName:"select_item",eventParams:a}})}catch(t){console.error("guidedNavigation::selectItemAnalytics",t)}})(t):(({code:t,name:e,brand:i,price:s,index:r})=>{try{const n={event:"select_item",quiz_progress_time:(new Date).getTime(),quiz_id:localStorage.getItem(d)||"",ecommerce:{click:{actionField:{list:"QUIZ"},products:[{id:t||"",name:e||"",brand:i||"",price:s||"",list:"QUIZ",list_id:"R5J34A",dimension115:"QUIZ",quiz_id:localStorage.getItem(d)||"",index:r}]}}};window.dataLayer?.push(n)}catch(t){console.error("gtmError::guidedNavigationSelectItem",t)}})(t)},guidedNavigationViewStep(t){this.isWebview?(({questionTitle:t,currentStep:e,totalSteps:i,currentURL:s})=>{try{if(!window||!window.FreedomAppSDK)return;const r=new window.FreedomAppSDK,n={question_title:t||"",progress_state:`${e}/${i}`||"",element_location:s||"",quiz_id:localStorage.getItem(p)||""};r.callService({serviceName:"analytics.firebase",parameters:{eventName:"view_quiz",eventParams:n}})}catch(t){console.error("guidedNavigation::viewStepQuizAnalytics",t)}})(t):(({questionTitle:t,currentStep:e,totalSteps:i,currentURL:s})=>{try{const r={event:"view_quiz",question_title:t||"",progress_state:`${e}/${i}`||"",element_location:s||"",quiz_id:localStorage.getItem(m)||""};window.dataLayer?.push(r)}catch(t){console.error("gtmError::guidedNavigationViewQuizStep",t)}})(t)},guidedNavigationViewResult(t){this.isWebview?(({itemsList:t})=>{try{if(!window||!window.FreedomAppSDK)return;const e=new window.FreedomAppSDK,i={item_list_name:"QUIZ",eventAction:"impression",eventCategory:"home:quiz",pageType:"quiz",device:"app",currency:"BRL",items:t.map((t,e)=>({item_id:t&&t.code||"",item_name:t&&t.name||"",item_brand:t&&t.brand||"",item_list_name:"QUIZ",item_list_id:"R5J34A",dimension115:"QUIZ",index:e}))};e.callService({serviceName:"analytics.firebase",parameters:{eventName:"view_item_list",eventParams:i}})}catch(t){console.error("guidedNavigation::viewItemListAnalytics",t)}})(t):(({itemsList:t})=>{const e=t.map((t,e)=>({id:t&&t.code||"",name:t&&t.name||"",brand:t&&t.brand||"",list:"QUIZ",list_id:"R5J34A",dimension115:"QUIZ",quiz_id:localStorage.getItem(m)||"",index:e}));try{const t={event:"view_item_list",eventAction:"impression",eventCategory:"home:quiz",ecommerce:{impressions:e}};window.dataLayer?.push(t)}catch(t){console.error("gtmError::guidedNavigationClickEvent",t)}})(t)},guidedNavigationClickQuiz(t){this.isWebview?(({questionTitle:t,questionAnswer:e,currentStep:i,totalSteps:s,currentURL:r,elementText:n,elementPosition:a,quizId:o})=>{try{if(!window||!window.FreedomAppSDK)return;const l=new window.FreedomAppSDK,u={element_type:"button",quiz_progress_time:(new Date).getTime(),quiz_id:o||localStorage.getItem(p)||"",...!!t&&{question_title:t},...!!e&&{question_answer:e||"unanswered"},...!!i&&{progress_state:`${i}/${s}`},...!!r&&{element_href:r},...!!r&&{element_location:r},...!!n&&{element_text:n},...!!a&&{element_position:a}};l.callService({serviceName:"analytics.firebase",parameters:{eventName:"click_quiz",eventParams:u}})}catch(t){console.error("guidedNavigation::clickQuizAnalytics",t)}})(t):(({questionTitle:t,questionAnswer:e,currentStep:i,totalSteps:s,currentURL:r,elementText:n,elementPosition:a,quizId:o})=>{try{const l={event:"click_quiz",element_type:"button",quiz_progress_time:(new Date).getTime(),quiz_id:o||localStorage.getItem(d)||"",...!!t&&{question_title:t},...!!e&&{question_answer:e},...!!i&&{progress_state:`${i}/${s}`},...!!r&&{element_href:r},...!!r&&{element_location:r},...!!n&&{element_text:n},...!!a&&{element_position:a}};window.dataLayer?.push(l)}catch(t){console.error("gtmError::guidedNavigationClickQuiz",t)}})(t)},guidedNavigationSelectContent(t){this.isWebview?(({contentId:t,contentName:e})=>{try{if(!window||!window.FreedomAppSDK)return;const i=new window.FreedomAppSDK,s={quiz_progress_time:(new Date).getTime(),quiz_id:localStorage.getItem(p)||"",content_type:"quiz_sort_option",content_id:t,content_name:e};i.callService({serviceName:"analytics.firebase",parameters:{eventName:"select_content",eventParams:s}})}catch(t){console.error("guidedNavigation::selectContentAnalytics",t)}})(t):(({contentId:t,contentName:e})=>{try{const i={event:"select_content",quiz_progress_time:(new Date).getTime(),quiz_id:localStorage.getItem(d)||"",content_type:"quiz_sort_option",content_id:t,content_name:e};window.dataLayer?.push(i)}catch(t){console.error("gtmError::guidedNavigationSelectContent",t)}})(t)}}};var h={props:{landingContent:{type:Object,required:!0}},components:{ActionButton:l,IconsWrapper:a.A},mixins:[g,c],computed:{...(0,s.mapState)("Config",["platform"]),getTitle(){return this.landingContent&&this.landingContent.title||""},getSubtitle(){return this.landingContent&&this.landingContent.subTitle||""},getBackgroundImage(){const t=(this.landingContent.images||[]).find(t=>t.device.toLowerCase()===this.platform.toLowerCase());return t?t.path:""}},methods:{...(0,s.mapActions)("GuidedNavigation",["getQuizStep"]),...(0,s.mapActions)("Toast",["createToast"]),async initQuiz(){this.setBodyOverflowY(!1),this.guidedNavigationClickQuiz({currentURL:window.location.href,elementText:"ComeÃ§ar",elementPosition:"body-center",quizId:this.generateGuidedNavigationId()}),this.$refs.quizHome.scrollIntoView({behavior:"smooth"});try{await this.getQuizStep({flowId:this.landingContent.flowId,step:""})}catch(t){this.createToast({type:"error",text:(0,u.$t)("quiz.error.loading")})}}}},_=(0,r.A)(h,function(){var t=this,e=t._self._c;return e("div",{ref:"quizHome",staticClass:"guided-home",style:{backgroundImage:`url(${t.getBackgroundImage})`}},[e("h1",[t._v(t._s(t.getTitle))]),t._v(" "),e("h2",[t._v(t._s(t.getSubtitle))]),t._v(" "),e("ActionButton",{attrs:{type:"home",label:t.$t("quiz.init.button")},on:{click:t.initQuiz},scopedSlots:t._u([{key:"icon",fn:function(){return[e("IconsWrapper",{style:"fill: #fff",attrs:{name:"arrow",width:"16px",rotate:-90,colorProp:"fill"}})]},proxy:!0}])})],1)},[],!1,null,"4954433a",null).exports,v={props:{title:{type:String,required:!0},subtitle:{type:String,required:!1}}},b=(0,r.A)(v,function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h1",[t._v(t._s(t.title))]),t._v(" "),e("h3",[t._v(t._s(t.subtitle))])])},[],!1,null,"93c21652",null).exports,S={props:{imageUrl:{type:String,required:!0},altDescription:{type:String,required:!0}}},w=(0,r.A)(S,function(){var t=this;return(0,t._self._c)("img",{staticClass:"image-quiz",attrs:{src:t.imageUrl,alt:t.altDescription}})},[],!1,null,"ffeac00c",null).exports,f={props:{title:{type:String,required:!0},subtitle:{type:String,required:!1},value:{type:String,required:!0},name:{type:String,required:!0},selectedValue:{type:String,required:!0}},computed:{isSelected(){return this.value===this.selectedValue}},methods:{updateValue(){this.$emit("input",this.value)}}},y=(0,r.A)(f,function(){var t=this,e=t._self._c;return e("div",{class:["radio-button",{"radio-button--selected":t.isSelected}],on:{click:t.updateValue}},[e("input",{attrs:{type:"radio",name:t.name},domProps:{value:t.value,checked:t.isSelected},on:{change:t.updateValue}}),t._v(" "),e("div",{staticClass:"radio-button__text-container"},[t.title?e("label",[t._v(t._s(t.title))]):t._e(),t._v(" "),t.subtitle?e("span",[t._v(t._s(t.subtitle))]):t._e()])])},[],!1,null,"83d8fd34",null).exports,C={props:{item:{type:Object,required:!0},position:{type:Number,required:!0}},methods:{handleClick(t){t.preventDefault(),this.$emit("breadCrumb-click",this.item)}}},q={components:{BreadcrumbItem:(0,r.A)(C,function(){var t=this,e=t._self._c;return e("li",{staticClass:"breadcrumb__item",attrs:{itemscope:"",itemprop:"itemListElement",itemtype:"https://schema.org/ListItem"}},[e("a",{attrs:{href:t.item.stepName,itemprop:"item",itemscope:"",itemtype:"https://schema.org/Thing"},on:{click:t.handleClick}},[e("span",{attrs:{itemprop:"name"}},[t._v("\n      "+t._s(t.item.stepName)+"\n    ")])]),t._v(" "),e("span",{attrs:{itemprop:"position",content:t.position}})])},[],!1,null,"14278fd4",null).exports},props:{items:{type:Array,required:!0}},computed:{...(0,s.mapState)("GuidedNavigation",["landingContent"])},methods:{...(0,s.mapActions)("GuidedNavigation",["getQuizStep","setBreadCrumb"]),async breadCrumbClick(t){this.$emit("tagBreadcrumb",t),await this.getQuizStep({flowId:this.landingContent.flowId,step:t.stepId}),this.setBreadCrumb({stepName:t.stepName,stepId:t.stepId})}}},z=(0,r.A)(q,function(){var t=this,e=t._self._c;return t.items.length>0?e("ol",{staticClass:"breadcrumbs",attrs:{itemscope:"",itemtype:"https://schema.org/BreadcrumbList"}},t._l(t.items,function(i,s){return e("BreadcrumbItem",{key:s,attrs:{item:i,position:s+1},on:{"breadCrumb-click":function(e){return t.breadCrumbClick(i)}}})}),1):t._e()},[],!1,null,"586c353a",null).exports,A={props:{value:{type:Number,required:!0,default:1}}},I=(0,r.A)(A,function(){var t=this._self._c;return t("div",{staticClass:"progress-bar"},[t("div",{staticClass:"progress-bar__fill",style:{width:this.value+"%"}})])},[],!1,null,"2cd77bf4",null).exports,x={props:{currentStep:{required:!0},totalSteps:{type:Number,default:0,required:!0}},components:{Title:b,ImageQuiz:w,InputRadio:y,ProgressBar:I,ActionButton:l,Breadcrumbs:z},mixins:[g,c],data(){return{optionSelected:""}},computed:{...(0,s.mapGetters)("Config",["isMobile"]),...(0,s.mapState)("Config",["platform"]),...(0,s.mapState)("GuidedNavigation",["selectedSteps","breadCrumbs"]),inputClass(){const t="guided-quiz__wrapper__options__inputs";return`${t} ${t}--${this.currentStep.id.step}`},getImageUrl(){const t=(this.currentStep.images||[]).find(t=>t.device.toLowerCase()===this.platform.toLowerCase());return t?t.path:""},getProgress(){return this.currentStep&&0!==this.totalSteps?Math.round(this.currentStep.stage/this.totalSteps*100):0},getTitle(){return this.currentStep?this.currentStep.text:""},getSubtitle(){return this.currentStep?this.currentStep.subText:""},getOptions(){return this.currentStep?this.currentStep.responses:[]},isDisabled(){return this.currentStep&&this.currentStep.mandatory&&!this.optionSelected},isFirstStep(){return!!this.currentStep&&this.currentStep.initialStep}},methods:{...(0,s.mapActions)("Toast",["createToast"]),...(0,s.mapActions)("GuidedNavigation",["getQuizStep","setSelectedSteps","removeLastStep","getResultQuiz","resetQuiz","setBreadCrumb"]),scrollToQuiz(){this.$refs.quizWrapper.scrollIntoView({behavior:"smooth"})},async backStep(){try{this.scrollToQuiz(),this.guidedNavigationClickQuiz({totalSteps:this.totalSteps,questionTitle:this.getTitle,questionAnswer:this.optionSelected||"unanswered",currentURL:window.location.href,currentStep:this.currentStep.stage,elementText:"Voltar",elementPosition:"body-bottom"});const t=this.selectedSteps[this.selectedSteps.length-1];await this.getQuizStep({flowId:this.currentStep.id.flowId,step:t.step}),this.removeLastStep(),this.setBreadCrumb({stepName:null,stepId:t.step}),this.optionSelected=""}catch(t){this.createToast({type:"error",text:(0,u.$t)("quiz.error.loading")})}},async nextStep(){this.scrollToQuiz();const{defaultResponse:t,id:e,stage:i,lastStep:s}=this.currentStep,r=t&&t.text||"",n=this.optionSelected||r,a=this.optionSelected||"unanswered",o={step:e.step,response:s&&!n?"":n};if(this.setSelectedSteps([o]),this.guidedNavigationClickQuiz({totalSteps:this.totalSteps,questionTitle:this.getTitle,questionAnswer:a,currentURL:window.location.href,currentStep:i,elementText:"Seguir",elementPosition:"body-bottom"}),s)try{await this.getResultQuiz(),this.setBodyOverflowY(!0)}catch(t){this.createToast({type:"error",text:(0,u.$t)("quiz.error.submit")})}else try{const i=t&&t.nextStep,s=n?this.getOptions.find(t=>t.text===n).nextStep:i;await this.getQuizStep({flowId:e.flowId,step:s})}catch(t){this.createToast({type:"error",text:(0,u.$t)("quiz.error.loading")})}},closeQuiz(){this.guidedNavigationClickQuiz({questionTitle:this.getTitle,currentStep:this.currentStep.stage,totalSteps:this.totalSteps,questionAnswer:this.optionSelected||"unanswered",currentURL:window.location.href,elementText:"X",elementPosition:"body-top"}),this.scrollToQuiz(),this.resetQuiz(),this.setBodyOverflowY(!0)},tagBreadcrumb(t){this.guidedNavigationClickQuiz({questionTitle:this.getTitle,currentStep:this.currentStep.stage,totalSteps:this.totalSteps,questionAnswer:this.optionSelected||"unanswered",currentURL:window.location.href,elementText:t.stepName,elementPosition:"body-top"})}},mounted(){this.guidedNavigationViewStep({totalSteps:this.totalSteps,questionTitle:this.getTitle,currentURL:window.location.href,currentStep:this.currentStep.stage})}},N=(0,r.A)(x,function(){var t=this,e=t._self._c;return e("div",{staticClass:"guided-quiz"},[e("div",{ref:"quizWrapper",staticClass:"guided-quiz__wrapper"},[e("div",{staticClass:"guided-quiz__wrapper__image"},[e("ImageQuiz",{attrs:{imageUrl:t.getImageUrl,altDescription:t.getTitle}})],1),t._v(" "),e("div",{staticClass:"guided-quiz__wrapper__options"},[e("ProgressBar",{attrs:{value:t.getProgress}}),t._v(" "),e("Breadcrumbs",{attrs:{items:t.breadCrumbs},on:{tagBreadcrumb:t.tagBreadcrumb}}),t._v(" "),e("Title",{attrs:{title:t.getTitle,subtitle:t.getSubtitle}}),t._v(" "),e("div",{class:t.inputClass},t._l(t.getOptions,function(i,s){return e("InputRadio",{key:s,attrs:{name:"example",title:i.text,value:i.text,subtitle:i.description,selectedValue:t.optionSelected},on:{input:e=>t.optionSelected=e}})}),1)],1)]),t._v(" "),e("div",{staticClass:"guided-quiz__footer"},[e("div",{staticClass:"guided-quiz__footer__wrapper"},[t.isFirstStep?t._e():e("ActionButton",{attrs:{type:"back",label:t.$t("quiz.back.button")},on:{click:t.backStep}}),t._v(" "),e("ActionButton",{attrs:{type:"next",label:t.$t("quiz.next.button"),disabled:t.isDisabled},on:{click:t.nextStep}})],1)]),t._v(" "),e("ActionButton",{attrs:{type:"close"},on:{click:t.closeQuiz}})],1)},[],!1,null,"3e2ac0aa",null).exports,T=i(7963),R=i.n(T),k=i(8310),Q=i(5765),P=i(7574),L={components:{UniqueFilterBox:i.n(P)()},props:{},data(){return{scroll:0,quizSortOptions:Q.e,selectedSort:null}},computed:{...(0,s.mapGetters)("Config",["isDesktop"]),sortLabel(){const t=this.selectedSort?this.$t(`quiz.filters.sort.type.${this.selectedSort}`):"";return this.$t("quiz.filters.sort.label",{sort:t})},fixed(){return this.scroll>220}},mixins:[g],methods:{...(0,s.mapActions)("GuidedNavigation",["sortResults"]),onChangeSort(t){this.selectedSort=t.value,this.guidedNavigationSelectContent({contentId:this.selectedSort,contentName:this.$t(`quiz.filters.sort.type.${t.value}`)}),this.sortResults(this.selectedSort),this.isDesktop&&setTimeout(()=>{this.$emit("scrollToResult")},500)},handleScroll(){this.scroll=window.scrollY}},mounted(){window.addEventListener("scroll",(0,k.A)(this.handleScroll,10))},beforeUnmount(){window.removeEventListener("scroll",(0,k.A)(this.handleScroll,10))}},$=(0,r.A)(L,function(){var t=this,e=t._self._c;return e("div",{staticClass:"filters-container"},[e("div",{class:{filters:!t.fixed,"filters--fixed":t.fixed}},[e("UniqueFilterBox",{staticClass:"filters__sort",attrs:{title:t.sortLabel,filters:t.quizSortOptions,currentSelectedFilter:t.selectedSort},on:{onUpdateFilter:t.onChangeSort}})],1)])},[],!1,null,"350711a5",null).exports,B=i(3120),D=i.n(B),U={props:{items:{type:Array,required:!0}},methods:{getFill(t,e){return 100*Math.min(Math.max(t-e,0),1)}}},G=(0,r.A)(U,function(){var t=this,e=t._self._c;return e("div",{staticClass:"rating-attributes"},t._l(t.items,function(i,s){return e("div",{key:s,staticClass:"rating-attributes__item"},[e("label",{staticClass:"rating-attributes__label"},[t._v(t._s(i.label))]),t._v(" "),e("div",{staticClass:"rating-attributes__circles"},t._l(5,function(s){return e("div",{key:s,staticClass:"rating-attributes__circle",style:`--fill: ${t.getFill(i.rating,s-1)}%;`})}),0)])}),0)},[],!1,null,"4a1c1400",null).exports,F={props:{price:{type:Object,default:()=>{}}}},W=(0,r.A)(F,function(){var t=this,e=t._self._c;return t.price&&t.price.salePrice?e("p",{staticClass:"price"},[e("span",[t._v(t._s(t.$t("price.startingAt")))]),t._v(" "),e("span",{staticClass:"price__value"},[t._v(t._s(t.$n(t.price.salePrice)))])]):t._e()},[],!1,null,"542afdec",null).exports,E=i(531),V=i(6955),O=i(3463),Z=i(1725);E.A.use([V.A,O.A,Z.A]);var K={props:{images:{type:Array,required:!0}},components:{IconsWrapper:a.A},mounted(){this.swiper=this.initializeSwiper()},methods:{initializeSwiper(){return new E.A(this.$refs.swiperContainer,{loop:!0,slidesPerView:1,spaceBetween:0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},autoplay:!1})}}},M=(0,r.A)(K,function(){var t=this,e=t._self._c;return e("div",{staticClass:"image-swiper"},[e("div",{ref:"swiperContainer",staticClass:"swiper-container"},[e("div",{staticClass:"swiper-wrapper"},t._l(t.images,function(t,i){return e("div",{key:i,staticClass:"swiper-slide"},[e("img",{attrs:{src:t,alt:"Image "+(i+1)}})])}),0),t._v(" "),e("div",{staticClass:"swiper-button-next"},[e("IconsWrapper",{style:"fill: #8E9295",attrs:{name:"arrow",width:"24px",rotate:-90,colorProp:"fill"}})],1),t._v(" "),e("div",{staticClass:"swiper-button-prev"},[e("IconsWrapper",{style:"fill: #8E9295",attrs:{name:"arrow",width:"24px",rotate:90,colorProp:"fill"}})],1)])])},[],!1,null,"3785d909",null).exports,j={props:{rating:{type:Number,default:0},ratingCount:{type:Number},code:{type:String,required:!0},name:{type:String,required:!0},price:{type:Object,default:()=>{}},brand:{type:String,required:!0},images:{type:Array,required:!0},lightness:{type:Number,required:!0},stability:{type:Number,required:!0},cushioning:{type:Number,required:!0},jaroDistance:{type:Number,required:!0},breathability:{type:Number,required:!0},geminiPrompt:{type:String},position:{type:Number,required:!0}},components:{StarsRating:D(),RatingAttributes:G,ActionButton:l,ImageSwiper:M,Price:W},mixins:[g],computed:{...(0,s.mapGetters)("Config",["isMobile"]),...(0,s.mapGetters)("FeatureToggles",["isEnabled"]),...(0,s.mapState)("Config",["isWebview","s3Path"]),getRatingItems(){return[{label:"Amortecimento",rating:this.cushioning},{label:"Leveza",rating:this.lightness},{label:"Estabilidade",rating:this.stability},{label:"Respirabilidade",rating:this.breathability}]},getImages(){return this.images.map(t=>`${this.s3Path}${t}`)},starsRatingWidth(){return this.isMobile?80:100}},methods:{...(0,s.mapActions)("Price",["fetchPrice"]),...(0,s.mapActions)("GuidedNavigation",["updatePrice"]),buyProduct(){const t=`/p/${this.code}`;if(this.guidedNavigationSelectResult({code:this.code,name:this.name,brand:this.brand,price:this.price?.salePrice,index:this.position}),this.isWebview&&window.FreedomAppSDK){const e=this.code&&this.code.split("-").slice(0,2).join("-")||"";return void(new window.FreedomAppSDK).callService({serviceName:"navigationTo",parameters:{path:t,quiz:{sku:e}}})}this.isMobile&&!this.isWebview?window.location.href=t:window.open(t,"_blank")},showGeminiPrompt(){return"true"===new URLSearchParams(window.location.search).get("debug")&&this.geminiPrompt}},data(){return{priceFromApi:null,isWebStorePriceClusterToggle:!1,isActiveGeminiPrompt:!1}},async mounted(){try{this.isActiveGeminiPrompt=this.showGeminiPrompt(),this.isWebStorePriceClusterToggle=this.isEnabled("webstore.price.cluster.segmentation"),this.priceFromApi=await this.fetchPrice({code:this.code,isWebStorePriceClusterToggle:this.isWebStorePriceClusterToggle}),this.updatePrice(this.priceFromApi)}catch(t){console.error(t)}}},Y=(0,r.A)(j,function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-result"},[e("ImageSwiper",{key:t.code,attrs:{images:t.getImages}}),t._v(" "),e("div",{staticClass:"card-result__wrapper"},[e("h2",[t._v(t._s(t.name))]),t._v(" "),e("div",{staticClass:"rating-container"},[t.rating>0?e("StarsRating",{attrs:{width:t.starsRatingWidth,value:t.rating}}):t._e(),t._v(" "),t.ratingCount?e("span",{staticClass:"rating-container__count"},[t._v("\n        "+t._s(t.$t("quiz.reviews.count",{count:t.ratingCount}))+"\n      ")]):t._e()],1),t._v(" "),e("Price",{attrs:{price:t.price||t.priceFromApi}}),t._v(" "),e("RatingAttributes",{attrs:{items:t.getRatingItems}}),t._v(" "),e("ActionButton",{attrs:{type:"buy",label:t.$t("quiz.buy.button")},on:{click:t.buyProduct}}),t._v(" "),t.isActiveGeminiPrompt?e("span",{staticClass:"card-result__wrapper__gemini-prompt"},[e("strong",[t._v(t._s(t.$t("quiz.debug.gemini.prompt")))]),t._v("\n\n      "+t._s(t.geminiPrompt)+"\n    ")]):t._e()],1)],1)},[],!1,null,"2c9c1ca0",null).exports,H={props:{searchResult:{type:Array,required:!0,default:()=>[]}},components:{Filters:$,Title:b,ActionButton:l,CardResult:Y,Loader:R(),Breadcrumbs:z},mixins:[g],computed:{...(0,s.mapGetters)("Config",["isMobile","isDesktop"]),...(0,s.mapState)("Config",["isWebview"]),...(0,s.mapState)("GuidedNavigation",["isSortLoading","breadCrumbs"])},methods:{...(0,s.mapActions)("GuidedNavigation",["resetQuiz"]),restartQuiz(){this.scrollToResult(),this.guidedNavigationClickQuiz({currentURL:window.location.href,elementText:"Refazer quiz",elementPosition:"body-bottom"}),this.resetQuiz()},scrollToResult(){this.$refs.quizResult.scrollIntoView({behavior:"smooth"})},exploreProducts(){this.guidedNavigationClickQuiz({currentURL:window.location.href,elementText:"Explorar mais",elementPosition:"body-bottom"});const t="/sub/corrida";this.isWebview&&window.FreedomAppSDK?(new window.FreedomAppSDK).callService({serviceName:"navigationTo",parameters:{path:"/landing/sub/corrida"}}):this.isMobile&&!this.isWebview?window.location.href=t:window.open(t,"_blank")},tagBreadcrumb(t){this.guidedNavigationClickQuiz({currentURL:window.location.href,elementText:t.stepName,elementPosition:"body-top"})}},mounted(){this.guidedNavigationViewResult({itemsList:this.searchResult})}},J=(0,r.A)(H,function(){var t=this,e=t._self._c;return e("div",{ref:"quizResult",staticClass:"guided-result-container"},[t.isDesktop?e("Filters",{on:{scrollToResult:t.scrollToResult}}):t._e(),t._v(" "),e("div",{staticClass:"guided-result"},[e("div",{staticClass:"guided-result__wrapper"},[e("Breadcrumbs",{attrs:{items:t.breadCrumbs},on:{tagBreadcrumb:t.tagBreadcrumb}}),t._v(" "),e("Title",{attrs:{title:t.$t("quiz.title.result"),subtitle:t.$t("quiz.subtitle.result")}}),t._v(" "),t.isMobile||t.isWebview?e("Filters",{on:{scrollToResult:t.scrollToResult}}):t._e(),t._v(" "),e("Loader",{attrs:{"is-active":t.isSortLoading}}),t._v(" "),t._l(t.searchResult,function(t,i){return e("CardResult",{key:i,attrs:{name:t.name,code:t.code,price:t.price,brand:t.brand,images:t.images,rating:t.rating,ratingCount:t.ratingCount,stability:t.stability,lightness:t.lightness,cushioning:t.cushioning,breathability:t.breathability,jaroDistance:t.jaroDistance,geminiPrompt:t.geminiPrompt,position:i}})})],2),t._v(" "),e("div",{staticClass:"guided-result__footer"},[e("ActionButton",{attrs:{type:"explore",label:t.$t("quiz.restart.button")},on:{click:t.restartQuiz}}),t._v(" "),e("ActionButton",{attrs:{type:"explore",label:t.$t("quiz.explore.button")},on:{click:t.exploreProducts}})],1)])],1)},[],!1,null,"620273ea",null).exports,X=i(7223),tt=i.n(X),et=(0,r.A)({},function(){return(0,this._self._c)("div",{staticClass:"sidebar"},[this._t("default")],2)},[],!1,null,"79f55a8a",null).exports,it={components:{ActionButton:l},mixins:[g],methods:{...(0,s.mapActions)("GuidedNavigation",["resetQuiz"]),restartQuiz(){this.$refs.emptyResult.scrollIntoView({behavior:"smooth"}),this.guidedNavigationClickQuiz({currentURL:window.location.href,elementText:"Refazer quiz",elementPosition:"body-center"}),this.resetQuiz()}}},st=(0,r.A)(it,function(){var t=this,e=t._self._c;return e("div",{ref:"emptyResult",staticClass:"empty-result"},[e("h1",[t._v(t._s(t.$t("quiz.empty.result.title")))]),t._v(" "),e("h2",[t._v(t._s(t.$t("quiz.empty.result.subtitle")))]),t._v(" "),e("ActionButton",{attrs:{type:"explore",label:t.$t("quiz.restart.button")},on:{click:t.restartQuiz}})],1)},[],!1,null,"6a66810a",null).exports,rt={components:{Loading:n,Home:_,Quiz:N,Toast:tt(),Result:J,SideBar:et,EmptyResult:st},computed:{...(0,s.mapGetters)("Config",["isMobile","isDesktop","isApp"]),...(0,s.mapState)("Toast",["toasts"]),...(0,s.mapState)("GuidedNavigation",["currentStep","totalSteps","isLoading","landingContent","searchResult","triedSearch"]),hasCurrentStep(){return!!this.currentStep&&this.currentStep.id},hasSearchResult(){return!!this.searchResult&&this.searchResult.length>0}}},nt={components:{GuidedNavigation:(0,r.A)(rt,function(){var t=this,e=t._self._c;return e("div",{staticClass:"guided-navigation"},[t.isLoading||t.hasSearchResult||!t.triedSearch?t._e():e("EmptyResult"),t._v(" "),t.hasCurrentStep||t.isLoading||t.hasSearchResult||t.triedSearch?t._e():e("Home",{attrs:{landingContent:t.landingContent}}),t._v(" "),t.hasCurrentStep||t.isLoading?e("SideBar",[t.isLoading?e("Loading"):t.hasCurrentStep?e("Quiz",{attrs:{totalSteps:t.totalSteps,currentStep:t.currentStep}}):t._e()],1):t._e(),t._v(" "),!t.hasSearchResult||t.isLoading||t.hasCurrentStep?t._e():e("Result",{attrs:{searchResult:t.searchResult}}),t._v(" "),e("Toast",{attrs:{toasts:t.toasts}})],1)},[],!1,null,"1be47049",null).exports}},at=(0,r.A)(nt,function(){return(0,this._self._c)("GuidedNavigation")},[],!1,null,null,null).exports},8100:function(t,e,i){t.exports=i.p+"images/8bd0143be4c73899f8a1.svg"}}]);